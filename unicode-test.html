<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>Unicode Base64 æ¸¬è©¦</title>
</head>
<body>
    <h1>Unicode Base64 ç·¨ç¢¼æ¸¬è©¦</h1>
    
    <div>
        <label>è¼¸å…¥æ–‡å­—ï¼š</label>
        <input type="text" id="testInput" value="ä½ å¥½" style="width: 200px; padding: 5px;">
        <button onclick="testEncode()">æ¸¬è©¦ç·¨ç¢¼</button>
        <button onclick="testDecode()">æ¸¬è©¦è§£ç¢¼</button>
    </div>
    
    <div style="margin-top: 20px;">
        <h3>çµæœï¼š</h3>
        <div id="results" style="background: #f0f0f0; padding: 10px; border-radius: 4px; min-height: 50px;"></div>
    </div>

    <div style="margin-top: 20px;">
        <h3>æ¸¬è©¦æ¡ˆä¾‹ï¼š</h3>
        <button onclick="runAllTests()">åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦</button>
        <div id="testResults" style="margin-top: 10px;"></div>
    </div>

    <script src="src/utils/encoders.js"></script>
    <script>
        function testEncode() {
            const input = document.getElementById('testInput').value;
            const resultsDiv = document.getElementById('results');
            
            try {
                const base64Result = base64Encode(input);
                const base58Result = base58Encode(input);
                
                resultsDiv.innerHTML = `
                    <p><strong>è¼¸å…¥:</strong> "${input}"</p>
                    <p><strong>Base64:</strong> ${base64Result}</p>
                    <p><strong>Base58:</strong> ${base58Result}</p>
                `;
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">ç·¨ç¢¼éŒ¯èª¤: ${error.message}</p>`;
            }
        }
        
        function testDecode() {
            const input = document.getElementById('testInput').value;
            const resultsDiv = document.getElementById('results');
            
            try {
                // å‡è¨­è¼¸å…¥æ˜¯ Base64 ç·¨ç¢¼
                const decoded = base64Decode(input);
                resultsDiv.innerHTML = `
                    <p><strong>Base64 è§£ç¢¼çµæœ:</strong> "${decoded}"</p>
                `;
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">è§£ç¢¼éŒ¯èª¤: ${error.message}</p>`;
            }
        }
        
        function runAllTests() {
            const testCases = [
                'Hello World',
                'ä½ å¥½',
                'æ¸¬è©¦',
                'Hello ä¸–ç•Œ',
                'ğŸš€ Emoji æ¸¬è©¦',
                'Ã Ã¡Ã¢Ã£Ã¤Ã¥',
                '123456789'
            ];
            
            const resultsDiv = document.getElementById('testResults');
            let html = '<h4>æ¸¬è©¦çµæœ:</h4>';
            
            testCases.forEach((testCase, index) => {
                try {
                    // ç·¨ç¢¼
                    const encoded = base64Encode(testCase);
                    // è§£ç¢¼é©—è­‰
                    const decoded = base64Decode(encoded);
                    const isCorrect = decoded === testCase;
                    
                    html += `
                        <div style="margin: 10px 0; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
                            <p><strong>æ¸¬è©¦ ${index + 1}:</strong> "${testCase}"</p>
                            <p><strong>ç·¨ç¢¼:</strong> ${encoded}</p>
                            <p><strong>è§£ç¢¼:</strong> "${decoded}"</p>
                            <p><strong>çµæœ:</strong> <span style="color: ${isCorrect ? 'green' : 'red'}">${isCorrect ? 'âœ… é€šé' : 'âŒ å¤±æ•—'}</span></p>
                        </div>
                    `;
                } catch (error) {
                    html += `
                        <div style="margin: 10px 0; padding: 10px; border: 1px solid #red; border-radius: 4px;">
                            <p><strong>æ¸¬è©¦ ${index + 1}:</strong> "${testCase}"</p>
                            <p style="color: red;"><strong>éŒ¯èª¤:</strong> ${error.message}</p>
                        </div>
                    `;
                }
            });
            
            resultsDiv.innerHTML = html;
        }
        
        // è‡ªå‹•åŸ·è¡Œåˆå§‹æ¸¬è©¦
        window.onload = function() {
            testEncode();
        };
    </script>
</body>
</html>
